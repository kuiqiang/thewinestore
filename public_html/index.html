<!DOCTYPE html>
<html ng-app="wineStoreApp">
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title></title>
      <meta name="description" content="">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <link rel="stylesheet" href="css/normalize.min.css">
      <link rel="stylesheet" href="css/main.css">
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <link href='http://fonts.googleapis.com/css?family=IM+Fell+DW+Pica' rel='stylesheet' type='text/css'>

      <script src="js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
      <!--[if lt IE 7]>
          <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->  

      <div class="container-fluid" ng-controller="AppController">

        <div class="row">

          <main class="col-xs-12">

            <!--fixed-navbar-->
            <nav class="navbar navbar-default navbar-fixed-top">
              <!--match-count-->
              <div class="col-xs-3 text-capitalize" id="match-count">6 matches</div>

              <!--logo-->
              <div id="logo-wrapper" class="col-xs-6">
                <img id="logo-image" src="img/logo.png" alt="The Winestore" />
                <h5 class="store-title text-uppercase hidden-xs">The Winestore</h5>
              </div>

              <!--sort-by-->
              <form class="col-xs-3 form-horizontal" id="sort-by">
                <div class="form-group">
                  <label for="sort-by-select" class="control-label col-sm-5 hidden-xs">Sort by</label>
                  <div class="col-sm-7">
                    <select id="sort-by-select" class="form-control">
                      <option>Wine name</option>
                      <option>Wine varieties</option>
                      <option>Year</option>
                    </select>
                  </div>
                </div>
              </form>
            </nav>

            <!--search-btn-->
            <div id="search-btn-wrapper" class="navbar-fixed-top">
              <div class="col-xs-12">
                <div id="search-btn" class="btn btn-sm btn-danger center-block" ng-click="toggleSearchForm()">
                  <span class="glyphicon glyphicon-search"></span>
                </div>
              </div>
            </div>

            <!--search-form-->
            <div id="search-form" class="row">
              <form name="searchForm" class="col-xs-10 col-xs-offset-1" novalidate>
                <div class="row">
                  <div class="form-group col-xs-12" show-errors="{showSuccess: true}">
                    <label class="control-label">Wine Name</label>
                    <input type="text" class="form-control" name="wineName" placeholder="Enter wine name" ng-model="search.wineName">
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-xs-12" show-errors="{showSuccess: true}">
                    <label class="control-label">Region</label>
                    <input type="text" class="form-control" name="region" placeholder="Enter region" ng-model="search.region">
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-xs-12" show-errors="{showSuccess: true}">
                    <label class="control-label">Winery Name</label>
                    <input type="text" class="form-control" name="wineryName" placeholder="Enter winery name" ng-model="search.wineryName">
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-xs-6" show-errors="{showSuccess: true}">
                    <label class="control-label">Min. years</label>
                    <input type="number" class="form-control" name="minYears" placeholder="Enter min. years" min="0" my-lesser-than-or-equals="maxYears" ng-model="search.minYears">
                    <h4><span class="help-block" ng-if="searchForm.minYears.$error.number">Please enter a valid number</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.minYears.$error.min">Min. years must be greater than zero</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.minYears.$error.myLesserThanOrEquals">Min. years must be lesser than max. years</span></h4>
                  </div>
                  <div class="form-group col-xs-6" show-errors="{showSuccess: true}">
                    <label class="control-label" >Max. years</label>
                    <input type="number" class="form-control" name="maxYears" placeholder="Enter max. years" min="0" my-greater-than-or-equals="minYears" ng-model="search.maxYears">
                    <h4><span class="help-block" ng-if="searchForm.maxYears.$error.number">Please enter a valid number</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.maxYears.$error.min">Max. years must be greater than zero</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.maxYears.$error.myGreaterThanOrEquals">Max. years must be greater than min. years</span></h4>
                  </div> 
                </div>
                <div class="row">
                  <div class="form-group col-xs-6" show-errors="{showSuccess: true}">
                    <label class="control-label">Min. cost</label>
                    <input type="number" class="form-control" name="minCost" placeholder="Enter min. cost" min="0" my-lesser-than-or-equals="maxCost" ng-model="search.minCost">
                    <h4><span class="help-block" ng-if="searchForm.minCost.$error.number">Please enter a valid number</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.minCost.$error.min">Min. cost must be greater than zero</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.minCost.$error.myLesserThanOrEquals">Min. cost must be lesser than max. cost</span></h4>
                  </div>
                  <div class="form-group col-xs-6" show-errors="{showSuccess: true}">
                    <label class="control-label">Max. cost</label>
                    <input type="number" class="form-control" name="maxCost" placeholder="Enter max. cost" min="0" my-greater-than-or-equals="minCost" ng-model="search.maxCost">
                    <h4><span class="help-block" ng-if="searchForm.maxCost.$error.number">Please enter a valid number</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.maxCost.$error.min">Max. cost must be greater than zero</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.maxCost.$error.myGreaterThanOrEquals">Max. cost must be greater than min. cost</span></h4>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-xs-6" show-errors="{showSuccess: true}">
                    <label class="control-label">Min. in stock</label>
                    <input type="number" class="form-control" name="minInStock" placeholder="Enter min. in stock" min="0" ng-model="search.minInStock">
                    <h4><span class="help-block" ng-if="searchForm.minInStock.$error.number">Please enter a valid number</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.minInStock.$error.min">Min. in stock must be greater than zero</span></h4>
                  </div>
                  <div class="form-group col-xs-6" show-errors="{showSuccess: true}">
                    <label class="control-label">Min. purchases</label>
                    <input type="number" class="form-control" name="minPurchases" placeholder="Enter min. purchases" min="0" ng-model="search.minPurchases">
                    <h4><span class="help-block" ng-if="searchForm.minPurchases.$error.number">Please enter a valid number</span></h4>
                    <h4><span class="help-block" ng-if="searchForm.minPurchases.$error.min">Min. purchases must be greater than zero</span></h4>
                  </div>
                </div>
                <div class="form-group col-xs-12">
                  <button id="search-submit-btn" type="submit" class="btn btn-danger btn-lg text-uppercase pull-right" ng-disabled="searchForm.$invalid"><strong>Search</strong></button>
                </div>                 
              </form>
            </div>

            <!--search-results-->
            <div class="row" ng-hide="searchFormIsShown">
              <div class="col-xs-10 col-xs-offset-1">
                <table id="search-results" class="table">
                  <tbody>
                    <tr>
                      <td colspan="2"><h2>Search results</h2></td>
                    </tr>
                  </tbody>
                  <tbody>
                    <tr>
                      <td colspan="2"><h3>Wine 1</h3></td>
                    </tr>
                    <tr>
                      <td>Varieties</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>Years</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>Winery</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>Regions</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>Min. cost</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>Bottles available at min. cost</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>Total available</td>
                      <td>XXX</td>
                    </tr>
                    <tr>
                      <td>No. of purchases</td>
                      <td>XXX</td>
                    </tr>
                  </tbody>
                </table> 
              </div>
            </div>
          </main>
        </div>
      </div>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
      <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.1.min.js"><\/script>')</script>
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>

      <script src="js/main.js"></script>

      <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
      <script>
              (function (b, o, i, l, e, r) {
                b.GoogleAnalyticsObject = l;
                b[l] || (b[l] =
                        function () {
                          (b[l].q = b[l].q || []).push(arguments)
                        });
                b[l].l = +new Date;
                e = o.createElement(i);
                r = o.getElementsByTagName(i)[0];
                e.src = '//www.google-analytics.com/analytics.js';
                r.parentNode.insertBefore(e, r)
              }(window, document, 'script', 'ga'));
              ga('create', 'UA-XXXXX-X');
              ga('send', 'pageview');
      </script>
    </body>
  </html>
